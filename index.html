<!DOCTYPE html>
<html lang="en-US">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="stylesheet" href="https://npmcdn.com/basscss@7.1.1/css/basscss.min.css">
    <title>automata, take 1</title>
    <meta name="description" content="">
    <meta name="author" content="Brian Zelip">
    <meta name="keywords" content="">
    <style>

      #automata {
        margin: 3.5px 2.5px;
      }

      .row {
        line-height: 1;
      }

      .row > div {
        height: 25px;
        width: 25px;
        display: inline-block;
        /*border-radius: 50%;*/
        margin: 3.5px 5px;
        box-sizing: border-box;
      }

      .row > div.active { background-color: red; }

      .row > div.inactive {
        background-color: #fff;
        border: 1px solid red;
      }

    </style>
  </head>

  <body>

    <main id="automata">
      <div class="row"></div>
    </main>

    <script>

      const automata = document.getElementById('automata');
      const row = document.querySelector('.row');

      function createRow() {
        for (let i=0; i<41; i++) {
          let div = document.createElement('div');
          div.classList.add(randomBinary() ? 'active' : 'inactive')
          row.appendChild(div);
        }
      }

      function radomizeFirstRow() {
        let divs = document.querySelectorAll('.row > div');
        Array.from(divs).map(div => div.classList.add(randomBinary() ? 'active' : 'inactive'))
      }

      function randomBinary() {
        let min = 0;
        let max = 1;
        return Math.floor(Math.random() * (max - min + 1)) + min;
      }

      function addRow() {
        let newRow = row.cloneNode(true);
        automata.appendChild(newRow);
      }

      createRow();
      radomizeFirstRow();
      addRow();

    </script>

  </body>

</html>
